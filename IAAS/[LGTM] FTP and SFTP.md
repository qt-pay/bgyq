## [LGTM] FTP and SFTP

ftp服务器在互联网中的作用是尤其重要，因为它是专门提供文件存储和访问服务的计算机，如果没有ftp服务器，我们的网络是无法进行文件传输的。Sftp也是比较关键的一种服务器，主要进行数据的传输和接收，那么，ftp和sftp有什么区别？下文一起来了解有关ftp和sftp的内容。

### ftp和sftp有什么区别

FTP 代表“文件传输协议”。 SFTP 代表“SSH 文件传输协议”。

ftp和sftp非常相似，都支持批量传输（一次传输多个文件），文件夹/目录导航，文件移动，文件夹/目录创建，文件删除等。但还是存在着差异，下面我们来看看ftp和sftp之间的区别。
1、安全通道
ftp不提供任何安全通道来在主机之间传输文件；而sftp协议提供了一个安全通道，用于在网络上的主机之间传输文件。
2、使用的协议
ftp使用TCP / IP协议。而，sftp是SSH协议的一部分，它是一种[远程](https://sunlogin.oray.com/personal/)登录信息。
3、链接方式
ftp使用TCP端口21上的控制连接建立连接。而，sftp是在客户端和服务器之间通过SSH协议（TCP端口22）建立的安全连接来传输文件。
4、安全性
ftp密码和数据以纯文本格式发送，大多数情况下是不加密的，安全性不高。而，sftp会在发送之前加密数据，二进制的形式传递，是无法“按原样”阅读的，安全性较高。

### ftp和sftp哪个速度快？

与 ftp 相比，sftp 速度较慢，因为数据包的最大大小由协议本身决定。sftp 中的每个数据包在从客户端写入输出套接字之前都已加密，并在被服务器接收时解密。这当然会导致传输速率降低，但传输非常安全。通常，速度取决于协议，并且应用的安全性越高，速度越慢。
sftp 传输不像 ftp 或 HTTP 传输那样流式传输。它们与客户端打开远程文件并分块请求（一次不超过 32K）成块。在每个读取请求之后，服务器将用块答复，而客户端则发出另一个。当您请求超出文件末尾的块时，您将获得部分块或服务器发出的响应，表明您已到达末尾。这样便完成了下载。
一些 sftp 客户端一次发出 “x” 个请求，使传输速度更快，而某些 sftp 客户端一次发出一个请求。这就是他们获得更快的传输速度的方式。Serv-U 不断检索数据并将其发送到客户端，从而减少了不发送数据所花费的时间。这种方法的诀窍是数据块可能会乱序到达。因此，客户端必须根据原始请求所对应的文件窗口对文件执行写入操作。
如果您正在寻找更快的传输速度，则最好使用同样安全的 ftpS。
有几个因素会影响sftp传输的速度：
加密。 尽管对称加密速度很快，但并不会很快被忽视。 如果您比较快速网络（100 兆位或更高）上的速度，则加密将成为您过程的一个中断。
哈希计算和检查。
缓冲区复制。 与纯 ftp 相比，在 SSH 之上运行的 sftp 导致每个数据块至少被复制 6 次（每侧 3 次），而纯 ftp 在最佳情况下可以将数据传递到网络接口而不进行复制。 块复制也需要一些时间。

### 原文

1. https://hsk.oray.com/news/17401.html